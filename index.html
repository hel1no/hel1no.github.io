<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üé∞ VIP CASINO | ULTIMATIVE CASINO ERFAHRUNG</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* ===== RESET & BASE ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Montserrat', 'Segoe UI', system-ui, sans-serif;
    }

    body {
      background: linear-gradient(135deg, #0a0a1a 0%, #1a0a2e 50%, #0a1a2e 100%);
      color: #fff;
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background:
        radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.1) 0%, transparent 50%);
      pointer-events: none;
      z-index: -1;
    }

    /* ===== VARIABLES ===== */
    :root {
      --primary: #0a0a1a;
      --secondary: #1a0a2e;
      --accent: #00ff9d;
      --accent-glow: rgba(0, 255, 157, 0.5);
      --danger: #ff3860;
      --danger-glow: rgba(255, 56, 96, 0.5);
      --warning: #ffdd40;
      --warning-glow: rgba(255, 221, 64, 0.5);
      --info: #00ccff;
      --info-glow: rgba(0, 204, 255, 0.5);
      --purple: #9b59b6;
      --purple-glow: rgba(155, 89, 182, 0.5);
      --gold: #ffd700;
      --gold-glow: rgba(255, 215, 0, 0.5);
      --white: #ffffff;
      --gray: #8a8a9e;
      --dark-gray: #2a2a3e;
      --success: #00ff88;
      --success-glow: rgba(0, 255, 136, 0.5);
    }

    /* ===== ANIMATIONS ===== */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }

    @keyframes slideIn {
      from { transform: translateX(-100px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.05); opacity: 0.8; }
    }

    @keyframes glow {
      0%, 100% { box-shadow: 0 0 20px var(--accent-glow); }
      50% { box-shadow: 0 0 40px var(--accent-glow); }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }

    @keyframes bounce {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    @keyframes winEffect {
      0% { transform: scale(0.5); opacity: 0; }
      50% { transform: scale(1.2); opacity: 1; }
      100% { transform: scale(1); opacity: 1; }
    }

    @keyframes selectedPulse {
      0% {
        box-shadow: 0 0 10px var(--gold), 0 0 20px var(--gold-glow);
      }
      50% {
        box-shadow: 0 0 20px var(--gold), 0 0 45px var(--gold-glow);
        transform: scale(1.08);
      }
      100% {
        box-shadow: 0 0 10px var(--gold), 0 0 20px var(--gold-glow);
      }
    }

    /* ===== SCROLLBAR ===== */
    ::-webkit-scrollbar {
      width: 10px;
    }

    ::-webkit-scrollbar-track {
      background: var(--primary);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--accent);
      border-radius: 5px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--accent-glow);
    }

    /* ===== BUTTONS ===== */
    .btn {
      padding: 14px 28px;
      border-radius: 12px;
      border: none;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      font-size: 16px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      position: relative;
      overflow: hidden;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent) 0%, #00cc7a 100%);
      color: var(--primary);
      box-shadow: 0 5px 20px var(--accent-glow);
    }

    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px var(--accent-glow);
      animation: pulse 0.5s;
    }

    .btn-secondary {
      background: transparent;
      border: 2px solid var(--accent);
      color: var(--accent);
    }

    .btn-secondary:hover {
      background: var(--accent);
      color: var(--primary);
      transform: translateY(-3px);
      box-shadow: 0 10px 30px var(--accent-glow);
    }

    .btn-danger {
      background: linear-gradient(135deg, var(--danger) 0%, #cc2e4d 100%);
      color: white;
      box-shadow: 0 5px 20px var(--danger-glow);
    }

    .btn-danger:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px var(--danger-glow);
    }

    .btn-warning {
      background: linear-gradient(135deg, var(--warning) 0%, #ffb300 100%);
      color: var(--primary);
      box-shadow: 0 5px 20px var(--warning-glow);
    }

    .btn-warning:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px var(--warning-glow);
    }

    .btn-info {
      background: linear-gradient(135deg, var(--info) 0%, #0099cc 100%);
      color: white;
      box-shadow: 0 5px 20px var(--info-glow);
    }

    .btn-info:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px var(--info-glow);
    }

    .btn-purple {
      background: linear-gradient(135deg, var(--purple) 0%, #8e44ad 100%);
      color: white;
      box-shadow: 0 5px 20px var(--purple-glow);
    }

    .btn-purple:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px var(--purple-glow);
    }

    .btn-gold {
      background: linear-gradient(135deg, var(--gold) 0%, #ffcc00 100%);
      color: var(--primary);
      box-shadow: 0 5px 20px var(--gold-glow);
    }

    .btn-gold:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px var(--gold-glow);
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none !important;
      box-shadow: none !important;
    }

    /* ===== HEADER ===== */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      padding: 15px 5%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(10, 10, 26, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(0, 255, 157, 0.2);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 15px;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .logo:hover {
      transform: scale(1.05);
    }

    .logo-icon {
      font-size: 2.8rem;
      color: var(--gold);
      animation: float 3s ease-in-out infinite;
      filter: drop-shadow(0 0 10px var(--gold-glow));
    }

    .logo-text {
      font-size: 2.2rem;
      font-weight: 900;
      background: linear-gradient(45deg, var(--accent), var(--info), var(--purple));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 30px rgba(0, 255, 157, 0.3);
    }

    .nav-tabs {
      display: flex;
      gap: 5px;
      background: rgba(42, 42, 62, 0.8);
      padding: 5px;
      border-radius: 15px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .nav-tab {
      padding: 12px 24px;
      border-radius: 12px;
      background: transparent;
      border: none;
      color: var(--gray);
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .nav-tab:hover {
      color: var(--accent);
      background: rgba(0, 255, 157, 0.1);
    }

    .nav-tab.active {
      background: linear-gradient(135deg, var(--accent) 0%, #00cc7a 100%);
      color: var(--primary);
      box-shadow: 0 5px 15px var(--accent-glow);
    }

    .nav-tab i {
      font-size: 18px;
    }

    /* ===== USER INFO ===== */
    .user-info {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .user-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: white;
      font-size: 1.4rem;
      border: 2px solid var(--accent);
      box-shadow: 0 0 20px var(--accent-glow);
      cursor: pointer;
      transition: transform 0.3s;
    }

    .user-avatar:hover {
      transform: rotate(15deg) scale(1.1);
    }

    .balance-card {
      padding: 15px 25px;
      border-radius: 15px;
      background: linear-gradient(135deg, rgba(42, 42, 62, 0.8) 0%, rgba(26, 10, 46, 0.8) 100%);
      border: 1px solid rgba(0, 255, 157, 0.3);
      display: flex;
      align-items: center;
      gap: 15px;
      min-width: 200px;
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
    }

    .balance-icon {
      font-size: 1.8rem;
      color: var(--accent);
      animation: pulse 2s infinite;
    }

    .balance-amount {
      font-size: 1.6rem;
      font-weight: 800;
      color: var(--accent);
      text-shadow: 0 0 10px var(--accent-glow);
    }

    /* ===== MAIN CONTENT ===== */
    .main-container {
      margin-top: 120px;
      padding: 30px 5%;
      max-width: 1600px;
      margin-left: auto;
      margin-right: auto;
    }

    .content-section {
      display: none;
      animation: fadeIn 0.6s ease-out;
    }

    .content-section.active {
      display: block;
    }

    /* ===== HERO SECTION ===== */
    .hero {
      text-align: center;
      padding: 80px 20px;
      margin-bottom: 60px;
      position: relative;
      overflow: hidden;
      border-radius: 25px;
      background: linear-gradient(135deg, rgba(26, 10, 46, 0.7) 0%, rgba(10, 10, 26, 0.7) 100%);
      border: 1px solid rgba(0, 255, 157, 0.2);
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('https://images.unsplash.com/photo-1533105079780-92b9be482077?auto=format&fit=crop&w=1920') center/cover;
      opacity: 0.1;
      z-index: -1;
    }

    .hero-title {
      font-size: 4.5rem;
      margin-bottom: 30px;
      background: linear-gradient(45deg, var(--accent), var(--info), var(--purple), var(--gold));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 50px rgba(0, 255, 157, 0.5);
      animation: fadeIn 1s ease-out;
      line-height: 1.2;
    }

    .hero-subtitle {
      font-size: 1.4rem;
      color: var(--gray);
      max-width: 800px;
      margin: 0 auto 50px;
      line-height: 1.8;
      font-weight: 300;
    }

    .hero-buttons {
      display: flex;
      gap: 25px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .hero-btn {
      padding: 20px 50px;
      font-size: 1.2rem;
      border-radius: 15px;
    }

    /* ===== GAMES GRID ===== */
    .games-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 35px;
      margin-bottom: 80px;
    }

    .game-card {
      background: linear-gradient(135deg, rgba(42, 42, 62, 0.8) 0%, rgba(26, 10, 46, 0.8) 100%);
      border-radius: 20px;
      padding: 40px 30px;
      text-align: center;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      border: 1px solid transparent;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);
    }

    .game-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, var(--accent), var(--info), var(--purple));
      transform: scaleX(0);
      transition: transform 0.4s;
    }

    .game-card:hover {
      transform: translateY(-15px) scale(1.02);
      border-color: var(--accent);
      box-shadow: 0 25px 50px rgba(0, 255, 157, 0.3);
    }

    .game-card:hover::before {
      transform: scaleX(1);
    }

    .game-icon {
      font-size: 5rem;
      margin-bottom: 25px;
      color: var(--accent);
      filter: drop-shadow(0 0 20px var(--accent-glow));
      height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.3s;
    }

    .game-card:hover .game-icon {
      transform: scale(1.2) rotate(10deg);
      animation: bounce 0.5s;
    }

    .game-title {
      font-size: 2rem;
      margin-bottom: 20px;
      color: white;
      font-weight: 700;
      letter-spacing: 1px;
    }

    .game-desc {
      color: var(--gray);
      margin-bottom: 30px;
      line-height: 1.6;
      font-size: 1.1rem;
      font-weight: 300;
    }

    .play-btn {
      padding: 16px 40px;
      font-size: 1.1rem;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--accent) 0%, #00cc7a 100%);
      color: var(--primary);
      border: none;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      width: 100%;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .play-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px var(--accent-glow);
    }

    /* ===== LEADERBOARD ===== */
    .leaderboard-container {
      background: linear-gradient(135deg, rgba(42, 42, 62, 0.9) 0%, rgba(26, 10, 46, 0.9) 100%);
      border-radius: 25px;
      padding: 40px;
      border: 1px solid rgba(0, 255, 157, 0.3);
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(10px);
    }

    .leaderboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
      padding-bottom: 25px;
      border-bottom: 1px solid rgba(0, 255, 157, 0.2);
    }

    .leaderboard-title {
      font-size: 2.5rem;
      color: var(--accent);
      display: flex;
      align-items: center;
      gap: 20px;
      text-shadow: 0 0 20px var(--accent-glow);
    }

    .leaderboard-title i {
      animation: float 3s ease-in-out infinite;
    }

    .refresh-btn {
      padding: 14px 28px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--accent) 0%, #00cc7a 100%);
      color: var(--primary);
      border: none;
      font-weight: 700;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: all 0.3s;
    }

    .refresh-btn:hover {
      transform: translateY(-3px) rotate(15deg);
      box-shadow: 0 10px 30px var(--accent-glow);
    }

    .leaderboard-list {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .leaderboard-item {
      display: flex;
      align-items: center;
      gap: 25px;
      padding: 25px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      transition: all 0.3s;
      border: 1px solid transparent;
      animation: slideIn 0.6s ease-out;
      animation-fill-mode: both;
    }

    .leaderboard-item:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: var(--accent);
      transform: translateX(10px);
    }

    .leaderboard-item:nth-child(1) {
      background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 215, 0, 0.05) 100%);
      border-color: var(--gold);
    }

    .leaderboard-item:nth-child(2) {
      background: linear-gradient(135deg, rgba(192, 192, 192, 0.1) 0%, rgba(192, 192, 192, 0.05) 100%);
      border-color: silver;
    }

    .leaderboard-item:nth-child(3) {
      background: linear-gradient(135deg, rgba(205, 127, 50, 0.1) 0%, rgba(205, 127, 50, 0.05) 100%);
      border-color: #cd7f32;
    }

    .rank {
      font-size: 1.8rem;
      font-weight: 900;
      color: var(--gold);
      width: 60px;
      text-align: center;
      text-shadow: 0 0 15px var(--gold-glow);
    }

    .player-info {
      display: flex;
      align-items: center;
      gap: 20px;
      flex: 1;
    }

    .player-avatar {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.6rem;
      font-weight: bold;
      color: white;
      border: 2px solid var(--accent);
      box-shadow: 0 0 20px var(--accent-glow);
    }

    .player-name {
      font-size: 1.4rem;
      font-weight: 700;
      color: white;
    }

    .player-stats {
      text-align: right;
    }

    .player-balance {
      font-size: 1.8rem;
      font-weight: 800;
      color: var(--accent);
      text-shadow: 0 0 15px var(--accent-glow);
    }

    /* ===== GAME AREAS ===== */
    .game-area {
      display: none;
      background: linear-gradient(135deg, rgba(42, 42, 62, 0.95) 0%, rgba(26, 10, 46, 0.95) 100%);
      border-radius: 30px;
      padding: 40px;
      margin-top: 40px;
      border: 1px solid var(--accent);
      box-shadow: 0 25px 60px rgba(0, 255, 157, 0.3);
      backdrop-filter: blur(20px);
      animation: fadeIn 0.6s ease-out;
    }

    .game-area.active {
      display: block;
    }

    .game-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
      padding-bottom: 30px;
      border-bottom: 1px solid rgba(0, 255, 157, 0.3);
    }

    .game-title-area {
      font-size: 2.8rem;
      color: var(--accent);
      display: flex;
      align-items: center;
      gap: 20px;
      text-shadow: 0 0 25px var(--accent-glow);
    }

    .game-title-area i {
      animation: float 3s ease-in-out infinite;
    }

    .back-btn {
      padding: 15px 30px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--danger) 0%, #cc2e4d 100%);
      color: white;
      border: none;
      font-weight: 700;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: all 0.3s;
    }

    .back-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px var(--danger-glow);
    }

    /* ===== SLOT MACHINE ===== */
    .slot-container {
      padding: 40px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 25px;
      border: 2px solid rgba(0, 255, 157, 0.2);
    }

    .slot-machine {
      display: flex;
      justify-content: center;
      gap: 25px;
      margin: 50px 0;
      perspective: 1000px;
    }

    .slot-reel {
      width: 150px;
      height: 150px;
      background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 4.5rem;
      border: 4px solid var(--accent);
      box-shadow: 0 10px 30px rgba(0, 255, 157, 0.4);
      position: relative;
      overflow: hidden;
      transform-style: preserve-3d;
    }

    .slot-reel::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
      animation: shine 2s infinite linear;
    }

    @keyframes shine {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .slot-reel.spinning {
      animation: spin 0.1s linear infinite;
    }

    .slot-reel.win {
      animation: glow 1s infinite, bounce 0.5s 3;
    }

    /* ===== BLACKJACK TABLE ===== */
    .blackjack-table {
      background: linear-gradient(135deg, #1e5b1e 0%, #0d3b0d 100%);
      border-radius: 25px;
      padding: 50px;
      border: 15px solid #8b4513;
      position: relative;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
      overflow: hidden;
    }

    .blackjack-table::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: repeating-linear-gradient(
        45deg,
        transparent,
        transparent 10px,
        rgba(0,0,0,0.1) 10px,
        rgba(0,0,0,0.1) 20px
      );
      pointer-events: none;
    }

    .dealer-section, .player-section {
      min-height: 220px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 25px;
      margin-bottom: 60px;
      position: relative;
    }

    .section-title {
      font-size: 1.8rem;
      color: var(--gold);
      text-shadow: 0 0 15px var(--gold-glow);
      margin-bottom: 20px;
    }

    .cards-container {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .card {
      width: 100px;
      height: 140px;
      background: white;
      border-radius: 15px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
      color: black;
      font-weight: bold;
      box-shadow: 0 10px 25px rgba(0,0,0,0.3);
      position: relative;
      transition: transform 0.3s;
      transform-style: preserve-3d;
    }

    .card:hover {
      transform: translateY(-10px) rotate(5deg);
    }

    .card.back {
      background: linear-gradient(45deg, #dc143c 0%, #8b0000 100%);
      color: white;
      animation: flip 0.6s ease-out forwards;
    }

    @keyframes flip {
      0% { transform: rotateY(0); }
      50% { transform: rotateY(90deg); }
      100% { transform: rotateY(0); }
    }

    .card.red { color: #dc143c; }
    .card.black { color: #000000; }

    .card-value {
      font-size: 2.5rem;
      font-weight: 900;
    }

    .card-suit {
      font-size: 1.8rem;
      margin-top: 10px;
    }

    /* ===== ROULETTE ===== */
    .roulette-container {
      padding: 40px;
      background: rgba(0, 0, 0, 0.4);
      border-radius: 30px;
      border: 2px solid rgba(0, 255, 157, 0.2);
      display: flex;
      flex-direction: column;
      align-items: center;
      perspective: 1000px;
    }

    .roulette-wheel {
      width: 450px;
      height: 450px;
      margin: 20px auto 50px;
      position: relative;
      filter: drop-shadow(0 0 30px rgba(0, 0, 0, 0.5));
    }

    .ball-indicator {
      position: absolute;
      top: -15px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 20px solid transparent;
      border-right: 20px solid transparent;
      border-top: 40px solid var(--gold);
      z-index: 20;
      filter: drop-shadow(0 5px 15px var(--gold-glow));
      pointer-events: none;
    }

    .ball-indicator::after {
      content: '';
      position: absolute;
      top: -45px;
      left: -10px;
      width: 20px;
      height: 20px;
      background: white;
      border-radius: 50%;
      box-shadow: 0 0 15px white;
    }

    .wheel {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: conic-gradient(
        #e74c3c 0deg 10deg,
        #2c3e50 10deg 20deg,
        #e74c3c 20deg 30deg,
        #2c3e50 30deg 40deg,
        #e74c3c 40deg 50deg,
        #2c3e50 50deg 60deg,
        #e74c3c 60deg 70deg,
        #2c3e50 70deg 80deg,
        #e74c3c 80deg 90deg,
        #2c3e50 90deg 100deg,
        #e74c3c 100deg 110deg,
        #2c3e50 110deg 120deg,
        #e74c3c 120deg 130deg,
        #2c3e50 130deg 140deg,
        #e74c3c 140deg 150deg,
        #2c3e50 150deg 160deg,
        #e74c3c 160deg 170deg,
        #2c3e50 170deg 180deg,
        #2ecc71 180deg 190deg,
        #2c3e50 190deg 200deg,
        #e74c3c 200deg 210deg,
        #2c3e50 210deg 220deg,
        #e74c3c 220deg 230deg,
        #2c3e50 230deg 240deg,
        #e74c3c 240deg 250deg,
        #2c3e50 250deg 260deg,
        #e74c3c 260deg 270deg,
        #2c3e50 270deg 280deg,
        #e74c3c 280deg 290deg,
        #2c3e50 290deg 300deg,
        #e74c3c 300deg 310deg,
        #2c3e50 310deg 320deg,
        #e74c3c 320deg 330deg,
        #2c3e50 330deg 340deg,
        #e74c3c 340deg 350deg,
        #2c3e50 350deg 360deg
      );
      border: 12px solid #222;
      outline: 6px solid var(--gold);
      position: relative;
      transition: transform 5s cubic-bezier(0.15, 0, 0.15, 1);
      box-shadow: inset 0 0 50px rgba(0,0,0,0.5);
    }

    .wheel::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 70%;
      height: 70%;
      background: #1a1a1a;
      border-radius: 50%;
      border: 4px solid var(--gold);
      z-index: 2;
      box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
    }

    .wheel::after {
      content: '‚òÖ';
      color: var(--gold);
      font-size: 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 50px;
      height: 50px;
      background: #111;
      border-radius: 50%;
      z-index: 3;
    }

    .roulette-bets {
      display: grid;
      grid-template-columns: repeat(13, 1fr);
      gap: 10px;
      max-width: 900px;
      margin: 40px auto;
    }

    .bet-cell {
      padding: 15px 10px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      font-weight: 700;
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.1);
      text-transform: uppercase;
      font-size: 0.9rem;
    }

    .bet-cell:hover {
      transform: translateY(-3px);
      background: rgba(255, 255, 255, 0.15);
      border-color: var(--gold);
    }

    .bet-cell.red { background: #e74c3c; border-bottom: 3px solid #c0392b; }
    .bet-cell.black { background: #2c3e50; border-bottom: 3px solid #1a252f; }
    .bet-cell.green { background: #2ecc71; border-bottom: 3px solid #27ae60; }

    .bet-cell.selected {
      background: var(--gold) !important;
      color: #000 !important;
      border-color: #fff;
      transform: scale(1.05);
      box-shadow: 0 0 15px var(--gold), 0 0 30px var(--gold-glow);
      animation: selectedPulse 1.5s infinite ease-in-out;
      z-index: 5;
    }

    /* ===== CONTROLS ===== */
    .controls {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 35px;
      margin-top: 50px;
    }

    .bet-controls {
      display: flex;
      gap: 25px;
      align-items: center;
      flex-wrap: wrap;
      justify-content: center;
    }

    .bet-input {
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid var(--accent);
      border-radius: 15px;
      padding: 18px 30px;
      color: white;
      font-size: 1.4rem;
      width: 250px;
      text-align: center;
      font-weight: 700;
      transition: all 0.3s;
    }

    .bet-input:focus {
      outline: none;
      box-shadow: 0 0 30px var(--accent-glow);
      transform: scale(1.05);
    }

    .chip-container {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .chip {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 900;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border: 4px solid white;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
      font-size: 1.3rem;
      position: relative;
      overflow: hidden;
    }

    .chip::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
      transform: rotate(45deg);
    }

    .chip:hover {
      transform: scale(1.2) rotate(15deg);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
    }

    .chip.active {
      animation: bounce 0.5s infinite;
      box-shadow: 0 0 30px var(--gold-glow);
    }

    /* ===== GAME CONTROLS ===== */
    .game-controls {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 40px;
    }

    .game-btn {
      padding: 20px 40px;
      font-size: 1.2rem;
      border-radius: 15px;
      min-width: 180px;
      font-weight: 800;
      letter-spacing: 1px;
    }

    .game-btn i {
      font-size: 1.4rem;
    }

    /* ===== RESULTS ===== */
    .result {
      margin-top: 40px;
      padding: 30px;
      border-radius: 20px;
      text-align: center;
      font-size: 1.8rem;
      font-weight: 900;
      display: none;
      animation: winEffect 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .result.show {
      display: block;
    }

    .result.win {
      background: linear-gradient(135deg, rgba(0, 255, 157, 0.2) 0%, rgba(0, 200, 100, 0.1) 100%);
      border: 2px solid var(--accent);
      color: var(--accent);
      text-shadow: 0 0 20px var(--accent-glow);
    }

    .result.loss {
      background: linear-gradient(135deg, rgba(255, 56, 96, 0.2) 0%, rgba(200, 40, 70, 0.1) 100%);
      border: 2px solid var(--danger);
      color: var(--danger);
      text-shadow: 0 0 20px var(--danger-glow);
    }

    .result.tie {
      background: linear-gradient(135deg, rgba(255, 221, 64, 0.2) 0%, rgba(200, 170, 40, 0.1) 100%);
      border: 2px solid var(--warning);
      color: var(--warning);
      text-shadow: 0 0 20px var(--warning-glow);
    }

    /* ===== STATS DISPLAY ===== */
    .stats-display {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 25px;
      margin-top: 50px;
    }

    .stat-card {
      background: linear-gradient(135deg, rgba(42, 42, 62, 0.8) 0%, rgba(26, 10, 46, 0.8) 100%);
      border-radius: 20px;
      padding: 30px;
      text-align: center;
      border: 1px solid rgba(0, 255, 157, 0.2);
      transition: all 0.3s;
    }

    .stat-card:hover {
      transform: translateY(-10px);
      border-color: var(--accent);
      box-shadow: 0 15px 35px var(--accent-glow);
    }

    .stat-value {
      font-size: 3rem;
      font-weight: 900;
      color: var(--accent);
      text-shadow: 0 0 20px var(--accent-glow);
      margin: 15px 0;
    }

    .stat-label {
      color: var(--gray);
      font-size: 1.1rem;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* ===== FOOTER ===== */
    .footer {
      text-align: center;
      padding: 60px 20px;
      margin-top: 100px;
      color: var(--gray);
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      background: rgba(10, 10, 26, 0.8);
      backdrop-filter: blur(20px);
    }

    .footer p {
      margin: 10px 0;
      font-size: 1rem;
    }

    /* ===== MODALS ===== */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 2000;
      justify-content: center;
      align-items: center;
      backdrop-filter: blur(10px);
    }

    .modal-content {
      background: linear-gradient(135deg, rgba(42, 42, 62, 0.95) 0%, rgba(26, 10, 46, 0.95) 100%);
      padding: 50px;
      border-radius: 30px;
      width: 90%;
      max-width: 500px;
      border: 1px solid var(--accent);
      box-shadow: 0 30px 60px var(--accent-glow);
      animation: fadeIn 0.5s ease-out;
    }

    .modal h2 {
      text-align: center;
      margin-bottom: 40px;
      color: var(--accent);
      font-size: 2.5rem;
      text-shadow: 0 0 20px var(--accent-glow);
    }

    .form-group {
      margin-bottom: 30px;
    }

    .form-group label {
      display: block;
      margin-bottom: 12px;
      color: var(--gray);
      font-size: 1.1rem;
      font-weight: 600;
    }

    .form-group input {
      width: 100%;
      padding: 18px;
      border-radius: 12px;
      border: 2px solid rgba(255, 255, 255, 0.1);
      background: rgba(255, 255, 255, 0.05);
      color: white;
      font-size: 1.1rem;
      transition: all 0.3s;
    }

    .form-group input:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 30px var(--accent-glow);
    }

    .error-message {
      color: var(--danger);
      text-align: center;
      margin-top: 15px;
      font-weight: 600;
      text-shadow: 0 0 10px var(--danger-glow);
    }

    .form-buttons {
      display: flex;
      gap: 20px;
      margin-top: 40px;
    }

    .form-buttons .btn {
      flex: 1;
    }

    /* ===== LOADING ===== */
    .loading {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 9999;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      gap: 30px;
    }

    .loading-spinner {
      width: 80px;
      height: 80px;
      border: 8px solid rgba(0, 255, 157, 0.2);
      border-top: 8px solid var(--accent);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    .loading-text {
      color: var(--accent);
      font-size: 1.5rem;
      font-weight: 700;
      text-shadow: 0 0 20px var(--accent-glow);
    }

    /* ===== NOTIFICATION ===== */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 25px;
      border-radius: 10px;
      color: white;
      font-weight: 600;
      z-index: 9999;
      animation: fadeIn 0.3s, fadeOut 0.3s 2.7s;
      box-shadow: 0 10px 25px rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    /* ===== PROPERTIES STYLES ===== */
    .property-card {
      background: linear-gradient(135deg, rgba(42, 42, 62, 0.95) 0%, rgba(26, 10, 46, 0.95) 100%);
      border-radius: 20px;
      padding: 30px;
      border: 2px solid var(--accent);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .property-card:hover {
      transform: translateY(-10px);
      border-color: var(--gold);
      box-shadow: 0 20px 50px var(--accent-glow);
    }

    .property-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transition: left 0.6s;
    }

    .property-card:hover::before {
      left: 100%;
    }

    .property-icon {
      font-size: 3.5rem;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 80px;
      text-shadow: 0 0 20px currentColor;
    }

    .property-name {
      font-size: 1.8rem;
      font-weight: 800;
      color: white;
      margin-bottom: 15px;
      text-align: center;
    }

    .property-desc {
      color: var(--gray);
      font-size: 1rem;
      line-height: 1.6;
      margin-bottom: 25px;
      text-align: center;
    }

    .property-stats {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 15px;
      padding: 20px;
      margin-bottom: 25px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .stat-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
      padding-bottom: 12px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .stat-row:last-child {
      margin-bottom: 0;
      padding-bottom: 0;
      border-bottom: none;
    }

    .stat-label {
      color: var(--gray);
      font-size: 0.95rem;
    }

    .stat-value {
      color: var(--accent);
      font-weight: 700;
      font-size: 1.1rem;
    }

    .stat-value.gold {
      color: var(--gold);
    }

    .property-level {
      display: inline-block;
      padding: 5px 15px;
      background: var(--accent);
      color: var(--primary);
      border-radius: 20px;
      font-weight: 700;
      font-size: 0.9rem;
      margin-bottom: 20px;
    }

    .property-actions {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-top: 20px;
    }

    .property-actions.single {
      grid-template-columns: 1fr;
    }

    .progress-bar {
      height: 10px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 5px;
      margin: 20px 0;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--accent), var(--info));
      border-radius: 5px;
      width: 0%;
      transition: width 1s ease-out;
    }

    @keyframes collectPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); box-shadow: 0 0 30px var(--gold); }
    }

    .collecting {
      animation: collectPulse 0.5s ease-in-out 3 !important;
    }

    /* ===== RESPONSIVE ===== */
    @media (max-width: 1200px) {
      .games-grid {
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      }

      .hero-title {
        font-size: 3.5rem;
      }
    }

    @media (max-width: 992px) {
      .header {
        flex-direction: column;
        gap: 20px;
        padding: 20px;
      }

      .nav-tabs {
        order: 3;
        width: 100%;
        justify-content: center;
      }

      .user-info {
        order: 2;
      }

      .main-container {
        margin-top: 180px;
      }

      .roulette-wheel {
        width: 300px;
        height: 300px;
      }
    }

    @media (max-width: 768px) {
      .hero-title {
        font-size: 2.8rem;
      }

      .hero-subtitle {
        font-size: 1.2rem;
      }

      .hero-btn {
        padding: 18px 35px;
        font-size: 1.1rem;
      }

      .game-card {
        padding: 30px 20px;
      }

      .game-title-area {
        font-size: 2.2rem;
      }

      .slot-reel {
        width: 100px;
        height: 100px;
        font-size: 3.5rem;
      }

      .card {
        width: 80px;
        height: 110px;
        font-size: 2.5rem;
      }

      .chip {
        width: 60px;
        height: 60px;
        font-size: 1.1rem;
      }

      .game-btn {
        padding: 18px 30px;
        font-size: 1.1rem;
        min-width: 150px;
      }
    }

    @media (max-width: 576px) {
      .hero-title {
        font-size: 2.2rem;
      }

      .games-grid {
        grid-template-columns: 1fr;
      }

      .roulette-wheel {
        width: 250px;
        height: 250px;
      }

      .bet-input {
        width: 100%;
      }

      .form-buttons {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
<!-- Loading Screen -->
<div class="loading" id="loading">
  <div class="loading-spinner"></div>
  <div class="loading-text">SPIEL WIRD GELADEN...</div>
</div>

<!-- Header -->
<header class="header">
  <div class="logo" onclick="showSection('home')">
    <i class="fas fa-crown logo-icon"></i>
    <h1 class="logo-text">HELINO CASINO</h1>
  </div>

  <div class="nav-tabs">
    <button class="nav-tab active" onclick="showSection('home')">
      <i class="fas fa-home"></i> Start
    </button>
    <button class="nav-tab" onclick="showSection('games')">
      <i class="fas fa-gamepad"></i> Spiele
    </button>
    <button class="nav-tab" onclick="showSection('leaderboard')">
      <i class="fas fa-trophy"></i> Bestenliste
    </button>
    <button class="nav-tab" onclick="showSection('stats')">
      <i class="fas fa-chart-bar"></i> Statistiken
    </button>
    <button class="nav-tab" onclick="showSection('properties')">
      <i class="fas fa-city"></i> Properties
    </button>
    <button class="nav-tab" onclick="showChat()">
      <i class="fas fa-comments"></i> Chat
    </button>
  </div>

  <div id="guestView" class="user-info">
    <button class="btn btn-primary" onclick="showLogin()">
      <i class="fas fa-sign-in-alt"></i> Login
    </button>
    <button class="btn btn-secondary" onclick="showRegister()">
      <i class="fas fa-user-plus"></i> Register
    </button>
  </div>

  <div id="userView" class="user-info" style="display: none;">
    <div class="balance-card">
      <i class="fas fa-coins balance-icon"></i>
      <span class="balance-amount" id="balanceAmount">0</span>
    </div>
    <div class="user-avatar" id="userAvatar" onclick="showProfile()">G</div>
    <button class="btn btn-danger" onclick="logout()">
      <i class="fas fa-sign-out-alt"></i> Logout
    </button>
  </div>
</header>

<!-- Main Content -->
<div class="main-container">
  <!-- Home Section -->
  <section id="homeSection" class="content-section active">
    <div class="hero">
      <h1 class="hero-title">WILLKOMMEN IM HELINO CASINO</h1>
      <p class="hero-subtitle">
        GEILES CASINO HALT
      </p>
      <div class="hero-buttons">
        <button class="btn btn-primary hero-btn" onclick="showSection('games')">
          <i class="fas fa-play"></i> JETZT SPIELEN
        </button>
        <button class="btn btn-gold hero-btn" onclick="showRegister()">
          <i class="fas fa-gem"></i> KOSTENLOS REGISTRIEREN
        </button>
        <button class="btn btn-info hero-btn" onclick="showSection('leaderboard')">
          <i class="fas fa-trophy"></i> BESTENLISTE
        </button>
      </div>
    </div>

    <div class="games-grid">
      <div class="game-card" onclick="showGame('slot')">
        <div class="game-icon">
          <i class="fas fa-sliders-h"></i>
        </div>
        <h3 class="game-title">SLOT MACHINE</h3>
        <p class="game-desc">Spinne 5 so Dinger</p>
        <button class="play-btn" onclick="showGame('slot')">
          <i class="fas fa-play"></i> SPIELEN
        </button>
      </div>

      <div class="game-card" onclick="showGame('blackjack')">
        <div class="game-icon">
          <i class="fas fa-club"></i><i class="fas fa-spade"></i>
        </div>
        <h3 class="game-title">BLACKJACK</h3>
        <p class="game-desc">Spiel BlackJack</p>
        <button class="play-btn" onclick="showGame('blackjack')">
          <i class="fas fa-play"></i> SPIELEN
        </button>
      </div>

      <div class="game-card" onclick="showGame('roulette')">
        <div class="game-icon">
          <i class="fas fa-circle-notch"></i>
        </div>
        <h3 class="game-title">ROULETTE</h3>
        <p class="game-desc">Spiel Roulette</p>
        <button class="play-btn" onclick="showGame('roulette')">
          <i class="fas fa-play"></i> SPIELEN
        </button>
      </div>

      <div class="game-card" onclick="showGame('poker')">
        <div class="game-icon">
          <i class="fas fa-diamond"></i><i class="fas fa-heart"></i>
        </div>
        <h3 class="game-title">GIBTS ND</h3>
        <p class="game-desc">...</p>
        <button class="play-btn" onclick="showGame('poker')">
          <i class="fas fa-play"></i> SPIELEN
        </button>
      </div>
    </div>
  </section>

  <!-- Games Section -->
  <section id="gamesSection" class="content-section">
    <!-- Slot Game -->
    <div class="game-area" id="slotGame">
      <div class="game-header">
        <h2 class="game-title-area">
          <i class="fas fa-sliders-h"></i> SLOT MACHINE
        </h2>
        <button class="back-btn" onclick="hideGame()">
          <i class="fas fa-times"></i> ZUR√úCK
        </button>
      </div>

      <div class="slot-container">
        <div class="slot-machine">
          <div class="slot-reel" id="slotReel1">üçí</div>
          <div class="slot-reel" id="slotReel2">üçí</div>
          <div class="slot-reel" id="slotReel3">üçí</div>
          <div class="slot-reel" id="slotReel4">üçí</div>
          <div class="slot-reel" id="slotReel5">üçí</div>
        </div>

        <div class="controls">
          <div class="bet-controls">
            <input type="number" class="bet-input" id="slotBet" value="100" min="10" max="999999999">
            <button class="btn btn-primary game-btn" onclick="spinSlot()">
              <i class="fas fa-play"></i> SPIN
            </button>
          </div>
          <div class="chip-container">
            <div class="chip" style="background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);" onclick="setBet(10)">10</div>
            <div class="chip" style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);" onclick="setBet(50)">50</div>
            <div class="chip" style="background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);" onclick="setBet(100)">100</div>
            <div class="chip" style="background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);" onclick="setBet(500)">500</div>
            <div class="chip" style="background: linear-gradient(135deg, #f1c40f 0%, #f39c12 100%);" onclick="setBet(1000)">1000</div>
            <div class="chip" style="background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);" onclick="setBet(5000)">5000</div>
          </div>
        </div>
      </div>

      <div class="result" id="slotResult"></div>
    </div>

    <!-- Blackjack Game -->
    <div class="game-area" id="blackjackGame">
      <div class="game-header">
        <h2 class="game-title-area">
          <i class="fas fa-club"></i> BLACKJACK
        </h2>
        <button class="back-btn" onclick="hideGame()">
          <i class="fas fa-times"></i> ZUR√úCK
        </button>
      </div>

      <div class="blackjack-table">
        <div class="dealer-section">
          <h3 class="section-title">Dealer: <span id="dealerScore">?</span></h3>
          <div class="cards-container" id="dealerCards">
            <!-- Dealer cards will be inserted here -->
          </div>
        </div>

        <div style="text-align: center; margin: 30px 0;">
          <div id="blackjackInfo" style="color: var(--gold); font-size: 1.4rem; font-weight: 700; text-shadow: 0 0 15px var(--gold-glow);">
            Setze deinen Einsatz und klicke auf "Deal"
          </div>
        </div>

        <div class="player-section">
          <h3 class="section-title">Deine Hand: <span id="playerScore">0</span></h3>
          <div class="cards-container" id="playerCards">
            <!-- Player cards will be inserted here -->
          </div>
        </div>

        <div class="controls">
          <div class="bet-controls">
            <input type="number" class="bet-input" id="blackjackBet" value="100" min="10" max="999999999">
            <div class="chip-container">
              <div class="chip" style="background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);" onclick="setBJBet(10)">10</div>
              <div class="chip" style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);" onclick="setBJBet(50)">50</div>
              <div class="chip" style="background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);" onclick="setBJBet(100)">100</div>
              <div class="chip" style="background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);" onclick="setBJBet(500)">500</div>
            </div>
          </div>

          <div class="game-controls">
            <button class="btn btn-primary game-btn" onclick="blackjackDeal()" id="dealBtn">
              <i class="fas fa-play"></i> DEAL
            </button>
            <button class="btn btn-info game-btn" onclick="blackjackHit()" id="hitBtn" disabled>
              <i class="fas fa-plus"></i> HIT
            </button>
            <button class="btn btn-warning game-btn" onclick="blackjackStand()" id="standBtn" disabled>
              <i class="fas fa-hand-paper"></i> STAND
            </button>
            <button class="btn btn-purple game-btn" onclick="blackjackDouble()" id="doubleBtn" disabled>
              <i class="fas fa-times-circle"></i> DOUBLE
            </button>
          </div>
        </div>

        <div class="result" id="blackjackResult"></div>
      </div>
    </div>

    <!-- Roulette Game -->
    <div class="game-area" id="rouletteGame">
      <div class="game-header">
        <h2 class="game-title-area">
          <i class="fas fa-circle-notch"></i> ROULETTE
        </h2>
        <button class="back-btn" onclick="hideGame()">
          <i class="fas fa-times"></i> ZUR√úCK
        </button>
      </div>

      <div class="roulette-container">
        <div class="roulette-wheel">
          <div class="ball-indicator"></div>
          <div class="wheel" id="rouletteWheel"></div>
        </div>

        <div class="roulette-bets" id="rouletteBetGrid">
          <!-- Bet grid will be generated by JavaScript -->
        </div>

        <div class="controls">
          <div class="bet-controls">
            <input type="number" class="bet-input" id="rouletteBet" value="100" min="10" max="999999999">
            <button class="btn btn-primary game-btn" onclick="spinRoulette()">
              <i class="fas fa-play"></i> SPINNEN
            </button>
          </div>

          <div style="margin-top: 30px; text-align: center;">
            <div style="color: var(--gray); font-size: 1.2rem; margin-bottom: 10px;">
              Ausgew√§hlt: <span id="selectedBets" style="color: var(--accent); font-weight: 700;">Keine</span>
            </div>
            <div style="color: var(--gold); font-size: 1.4rem; font-weight: 800; text-shadow: 0 0 15px var(--gold-glow);">
              Gesamteinsatz: <span id="totalBetAmount">0</span>
            </div>
          </div>
        </div>

        <div class="result" id="rouletteResult"></div>
      </div>
    </div>
  </section>

  <!-- Leaderboard Section -->
  <section id="leaderboardSection" class="content-section">
    <div class="leaderboard-container">
      <div class="leaderboard-header">
        <h2 class="leaderboard-title">
          <i class="fas fa-trophy"></i> BESTENLISTE
        </h2>
        <button class="btn btn-primary refresh-btn" onclick="loadLeaderboard()">
          <i class="fas fa-sync-alt"></i> Aktualisieren
        </button>
      </div>

      <div class="leaderboard-list" id="leaderboardList">
        <!-- Leaderboard items will be inserted here -->
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section id="statsSection" class="content-section">
    <div class="leaderboard-container">
      <h2 class="leaderboard-title">
        <i class="fas fa-chart-bar"></i> DEINE STATISTIKEN
      </h2>

      <div class="stats-display">
        <div class="stat-card">
          <div class="stat-label">Gesamtspiele</div>
          <div class="stat-value" id="statsGamesPlayed">0</div>
        </div>

        <div class="stat-card">
          <div class="stat-label">Gewonnene Spiele</div>
          <div class="stat-value" id="statsGamesWon">0</div>
        </div>

        <div class="stat-card">
          <div class="stat-label">Gewinnrate</div>
          <div class="stat-value" id="statsWinRate">0%</div>
        </div>

        <div class="stat-card">
          <div class="stat-label">Gr√∂√üter Gewinn</div>
          <div class="stat-value" id="statsBiggestWin">0</div>
        </div>

        <div class="stat-card">
          <div class="stat-label">Total Gewinn</div>
          <div class="stat-value" id="statsTotalWon">0</div>
        </div>

        <div class="stat-card">
          <div class="stat-label">Total Verlust</div>
          <div class="stat-value" id="statsTotalLost">0</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Properties Section -->
  <section id="propertiesSection" class="content-section">
    <div class="leaderboard-container">
      <div class="leaderboard-header">
        <h2 class="leaderboard-title">
          <i class="fas fa-city"></i> PROPERTIES & IMMOBILIEN
        </h2>
        <button class="btn btn-gold refresh-btn" onclick="collectAllProperties()">
          <i class="fas fa-coins"></i> ALLES EINNEHMEN
        </button>
      </div>

      <div class="stats-card" style="
        background: rgba(0, 0, 0, 0.3);
        border-radius: 20px;
        padding: 25px;
        margin-bottom: 40px;
        border: 2px solid var(--gold);
      ">
        <div style="display: flex; justify-content: space-between; align-items: center;">
          <div>
            <div style="color: var(--gray); font-size: 1.1rem;">Gesamtes passives Einkommen</div>
            <div id="totalPassiveIncome" style="
              font-size: 2.5rem;
              font-weight: 900;
              color: var(--gold);
              text-shadow: 0 0 20px var(--gold-glow);
            ">0 / Stunde</div>
          </div>
          <div style="text-align: right;">
            <div style="color: var(--gray); font-size: 1.1rem;">Bereit zum Einsammeln</div>
            <div id="pendingIncome" style="
              font-size: 2rem;
              font-weight: 800;
              color: var(--accent);
              text-shadow: 0 0 15px var(--accent-glow);
            ">0</div>
          </div>
        </div>
      </div>

      <h3 style="
        font-size: 1.8rem;
        color: var(--accent);
        margin-bottom: 30px;
        display: flex;
        align-items: center;
        gap: 10px;
      ">
        <i class="fas fa-home"></i> DEINE PROPERTIES
      </h3>

      <div class="owned-properties" id="ownedProperties" style="
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 25px;
        margin-bottom: 50px;
      ">
        <!-- Eigene Properties werden hier geladen -->
      </div>

      <h3 style="
        font-size: 1.8rem;
        color: var(--accent);
        margin-bottom: 30px;
        display: flex;
        align-items: center;
        gap: 10px;
      ">
        <i class="fas fa-store"></i> PROPERTIES KAUFEN
      </h3>

      <div class="properties-shop" id="propertiesShop" style="
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 25px;
      ">
        <!-- Properties zum Kauf werden hier geladen -->
      </div>
    </div>
  </section>
</div>

<!-- Footer -->
<footer class="footer">
  <p>¬© 2026 HELINO CASINO - Das beste Casino</p>
  <p>Nur zu Unterhaltungszwecken. Kein echtes Geld.</p>
  <p style="margin-top: 20px; font-size: 0.9em; color: #666;">
    Gl√ºcksspiel kann s√ºchtig machen!!!!!!!!!!!!!!!!!!!!!!!!!!!
  </p>
</footer>

<!-- Modals -->
<div id="loginModal" class="modal">
  <div class="modal-content">
    <h2><i class="fas fa-sign-in-alt"></i> LOGIN</h2>
    <div class="form-group">
      <label for="loginUsername">Benutzername:</label>
      <input type="text" id="loginUsername" placeholder="Dein Benutzername">
    </div>
    <div class="form-group">
      <label for="loginPassword">Passwort:</label>
      <input type="password" id="loginPassword" placeholder="Dein Passwort">
    </div>
    <div id="loginError" class="error-message"></div>
    <div class="form-buttons">
      <button class="btn btn-primary" onclick="performLogin()">LOGIN</button>
      <button class="btn btn-secondary" onclick="hideModal('loginModal')">ABBRECHEN</button>
    </div>
  </div>
</div>

<div id="registerModal" class="modal">
  <div class="modal-content">
    <h2><i class="fas fa-user-plus"></i> REGISTRIEREN</h2>
    <div class="form-group">
      <label for="regUsername">Benutzername:</label>
      <input type="text" id="regUsername" placeholder="W√§hle einen Benutzernamen">
    </div>
    <div class="form-group">
      <label for="regEmail">Email:</label>
      <input type="email" id="regEmail" placeholder="Deine Email-Adresse">
    </div>
    <div class="form-group">
      <label for="regPassword">Passwort:</label>
      <input type="password" id="regPassword" placeholder="Mindestens 6 Zeichen">
    </div>
    <div id="registerError" class="error-message"></div>
    <div class="form-buttons">
      <button class="btn btn-primary" onclick="performRegister()">REGISTRIEREN</button>
      <button class="btn btn-secondary" onclick="hideModal('registerModal')">ABBRECHEN</button>
    </div>
  </div>
</div>

<!-- Chat Modal -->
<div id="chatModal" class="modal">
  <div class="modal-content" style="max-width: 600px;">
    <h2><i class="fas fa-comments"></i> CASINO CHAT</h2>
    <div style="height: 400px; overflow-y: auto; margin-bottom: 20px; padding: 20px; background: rgba(0,0,0,0.3); border-radius: 15px;" id="chatMessages">
      <div style="text-align: center; color: var(--gray); font-style: italic;">
        Chat wird geladen...
      </div>
    </div>
    <div style="display: flex; gap: 10px;">
      <input type="text" id="chatInput" placeholder="Nachricht schreiben..." style="flex: 1; padding: 15px; border-radius: 10px; border: 2px solid var(--accent); background: rgba(255,255,255,0.1); color: white;">
      <button class="btn btn-primary" onclick="sendChatMessage()">
        <i class="fas fa-paper-plane"></i>
      </button>
    </div>
    <div style="text-align: center; margin-top: 20px;">
      <button class="btn btn-secondary" onclick="hideModal('chatModal')">
        <i class="fas fa-times"></i> SCHLIESSEN
      </button>
    </div>
  </div>
</div>

<script>
  // ===== KONFIGURATION =====
  const API_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1'
    ? 'http://localhost:3000'
    : '';

  // ===== GLOBALE VARIABLEN =====
  let currentUser = null;
  let balance = 10000; // Startguthaben f√ºr Demo
  let currentGame = null;
  let token = localStorage.getItem('casino_token');

  // Blackjack Variablen
  let blackjackGame = {
    deck: [],
    playerHand: [],
    dealerHand: [],
    bet: 100,
    gameActive: false
  };

  // Roulette Variablen
  let rouletteBets = [];
  let rouletteSpinning = false;

  // Poker Variablen
  let pokerGame = {
    deck: [],
    playerHand: [],
    communityCards: [],
    bet: 100,
    pot: 0,
    gameActive: false
  };

  // Stats Variablen
  let userStats = {
    gamesPlayed: 0,
    gamesWon: 0,
    totalWon: 0,
    totalLost: 0,
    biggestWin: 0
  };

  // Properties System
  let userProperties = [];
  let propertyConfig = {
    apartment: {
      name: "Apartment",
      icon: "üè¢",
      description: "Ein einfaches Apartment das dir passives Einkommen generiert.",
      basePrice: 1000,
      baseIncome: 10,
      multiplier: 1.5,
      upgradeCostMultiplier: 2,
      maxLevel: 10
    },
    house: {
      name: "Haus",
      icon: "üè†",
      description: "Ein sch√∂nes Haus mit guter Rendite.",
      basePrice: 10000,
      baseIncome: 100,
      multiplier: 1.8,
      upgradeCostMultiplier: 2.2,
      maxLevel: 10
    },
    villa: {
      name: "Villa",
      icon: "üè°",
      description: "Luxuri√∂se Villa mit hohem passivem Einkommen.",
      basePrice: 100000,
      baseIncome: 1000,
      multiplier: 2.0,
      upgradeCostMultiplier: 2.5,
      maxLevel: 10
    },
    hotel: {
      name: "Hotel",
      icon: "üè®",
      description: "Ein gro√ües Hotel mit vielen G√§sten.",
      basePrice: 1000000,
      baseIncome: 10000,
      multiplier: 2.2,
      upgradeCostMultiplier: 3,
      maxLevel: 10
    },
    skyscraper: {
      name: "Wolkenkratzer",
      icon: "üèôÔ∏è",
      description: "Ein riesiger Wolkenkratzer in der Innenstadt.",
      basePrice: 10000000,
      baseIncome: 100000,
      multiplier: 2.5,
      upgradeCostMultiplier: 3.5,
      maxLevel: 10
    },
    casino: {
      name: "Casino",
      icon: "üé∞",
      description: "Dein eigenes Casino! Die beste Investition.",
      basePrice: 50000000,
      baseIncome: 500000,
      multiplier: 3.0,
      upgradeCostMultiplier: 4,
      maxLevel: 10
    }
  };

  // ===== INITIALISIERUNG =====
  document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM geladen - Initialisiere Casino...');
    checkAuth();
    initRoulette();
    loadLeaderboard();

    // Event Listener f√ºr Enter-Taste
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        hideAllModals();
        if (currentGame) hideGame();
      }

      if (e.key === 'Enter' && document.getElementById('chatInput')?.value.trim()) {
        sendChatMessage();
      }
    });

    // Demo-Daten f√ºr Tests
    if (localStorage.getItem('demo_user')) {
      currentUser = JSON.parse(localStorage.getItem('demo_user'));
      balance = currentUser.balance || 10000;
      showUserView();
      updateUI();
    }
  });

  // ===== LOADING FUNCTIONS =====
  function showLoading() {
    document.getElementById('loading').style.display = 'flex';
  }

  function hideLoading() {
    document.getElementById('loading').style.display = 'none';
  }

  // ===== AUTHENTIFIZIERUNG =====
  function checkAuth() {
    console.log('Check Auth - Token:', token ? 'Vorhanden' : 'Fehlt');
    if (token) {
      loadUserData();
    } else {
      showGuestView();
    }
  }

  function formatLargeNumber(num) {
    if (typeof num !== 'number') num = parseFloat(num) || 0;

    if (num >= 1000000000000000000) {
      return (num / 1000000000000000000).toFixed(2) + 'Q';
    }
    if (num >= 1000000000000000) {
      return (num / 1000000000000000).toFixed(2) + 'q';
    }
    if (num >= 1000000000000) {
      return (num / 1000000000000).toFixed(2) + 'T';
    }
    if (num >= 1000000000) {
      return (num / 1000000000).toFixed(2) + 'B';
    }
    if (num >= 1000000) {
      return (num / 1000000).toFixed(2) + 'M';
    }
    if (num >= 1000) {
      return (num / 1000).toFixed(2) + 'K';
    }
    return Math.floor(num).toString();
  }

  function formatWithCommas(num) {
    if (typeof num !== 'number') num = parseFloat(num) || 0;
    return num.toLocaleString('de-DE');
  }

  function showLogin() {
    console.log('Show Login aufgerufen');
    showModal('loginModal');
    document.getElementById('loginError').textContent = '';
  }

  function showRegister() {
    console.log('Show Register aufgerufen');
    showModal('registerModal');
    document.getElementById('registerError').textContent = '';
  }

  function performLogin() {
    console.log('Perform Login aufgerufen');
    const username = document.getElementById('loginUsername').value;
    const password = document.getElementById('loginPassword').value;

    if (!username || !password) {
      showError('loginError', 'Bitte f√ºlle alle Felder aus');
      return;
    }

    // Demo-Login (ohne Server)
    const demoUser = {
      username: username,
      balance: 10000,
      stats: {
        gamesPlayed: 0,
        gamesWon: 0,
        totalWon: 0,
        totalLost: 0,
        biggestWin: 0
      }
    };

    currentUser = demoUser;
    balance = demoUser.balance;
    userStats = demoUser.stats;

    localStorage.setItem('demo_user', JSON.stringify(demoUser));

    hideModal('loginModal');
    showUserView();
    updateUI();
    updateStatsUI();
    showNotification('Erfolgreich eingeloggt (Demo-Modus)!', 'success');
  }

  function performRegister() {
    console.log('Perform Register aufgerufen');
    const username = document.getElementById('regUsername').value;
    const email = document.getElementById('regEmail').value;
    const password = document.getElementById('regPassword').value;

    if (!username || !email || !password) {
      showError('registerError', 'Bitte f√ºlle alle Felder aus');
      return;
    }

    if (password.length < 6) {
      showError('registerError', 'Passwort muss mindestens 6 Zeichen haben');
      return;
    }

    // Demo-Registrierung (ohne Server)
    const demoUser = {
      username: username,
      email: email,
      balance: 5000,
      stats: {
        gamesPlayed: 0,
        gamesWon: 0,
        totalWon: 0,
        totalLost: 0,
        biggestWin: 0
      }
    };

    currentUser = demoUser;
    balance = demoUser.balance;
    userStats = demoUser.stats;

    localStorage.setItem('demo_user', JSON.stringify(demoUser));

    hideModal('registerModal');
    showUserView();
    updateUI();
    updateStatsUI();
    showNotification('Erfolgreich registriert (Demo-Modus)! Willkommen!', 'success');
  }

  function logout() {
    console.log('Logout aufgerufen');
    currentUser = null;
    balance = 0;
    localStorage.removeItem('demo_user');
    showGuestView();
    hideGame();
    showSection('home');
    showNotification('Erfolgreich ausgeloggt', 'info');
  }

  function showGuestView() {
    document.getElementById('guestView').style.display = 'flex';
    document.getElementById('userView').style.display = 'none';
  }

  function showUserView() {
    document.getElementById('guestView').style.display = 'none';
    document.getElementById('userView').style.display = 'flex';
  }

  function updateUI() {
    document.getElementById('balanceAmount').textContent = formatLargeNumber(balance);
    if (currentUser) {
      const avatar = document.getElementById('userAvatar');
      avatar.textContent = currentUser.username.charAt(0).toUpperCase();
      const colors = [
        ['#667eea', '#764ba2'],
        ['#f093fb', '#f5576c'],
        ['#4facfe', '#00f2fe'],
        ['#43e97b', '#38f9d7'],
        ['#fa709a', '#fee140']
      ];
      const colorIndex = currentUser.username.length % colors.length;
      avatar.style.background = `linear-gradient(135deg, ${colors[colorIndex][0]} 0%, ${colors[colorIndex][1]} 100%)`;
    }
  }

  function updateStatsUI() {
    document.getElementById('statsGamesPlayed').textContent = formatWithCommas(userStats.gamesPlayed || 0);
    document.getElementById('statsGamesWon').textContent = formatWithCommas(userStats.gamesWon || 0);
    document.getElementById('statsWinRate').textContent = userStats.gamesPlayed > 0
      ? Math.round((userStats.gamesWon / userStats.gamesPlayed) * 100) + '%'
      : '0%';
    document.getElementById('statsBiggestWin').textContent = formatLargeNumber(userStats.biggestWin || 0);
    document.getElementById('statsTotalWon').textContent = formatLargeNumber(userStats.totalWon || 0);
    document.getElementById('statsTotalLost').textContent = formatLargeNumber(userStats.totalLost || 0);
  }

  // ===== NAVIGATION =====
  function showSection(sectionId) {
    console.log('Show Section:', sectionId);

    // Alle Sections verstecken
    document.querySelectorAll('.content-section').forEach(section => {
      section.classList.remove('active');
    });

    // Alle Tabs deaktivieren
    document.querySelectorAll('.nav-tab').forEach(tab => {
      tab.classList.remove('active');
    });

    // Gew√ºnschte Section anzeigen
    const sectionMap = {
      'home': 'homeSection',
      'games': 'gamesSection',
      'leaderboard': 'leaderboardSection',
      'stats': 'statsSection',
      'properties': 'propertiesSection'
    };

    const actualSectionId = sectionMap[sectionId] || (sectionId + 'Section');
    const sectionElement = document.getElementById(actualSectionId);

    if (sectionElement) {
      sectionElement.classList.add('active');
    } else {
      console.error('Section nicht gefunden:', actualSectionId);
      document.getElementById('homeSection').classList.add('active');
    }

    // Tab aktivieren
    document.querySelectorAll('.nav-tab').forEach(tab => {
      if (tab.textContent.toLowerCase().includes(sectionId.toLowerCase()) ||
        (sectionId === 'home' && tab.textContent.includes('Start')) ||
        (sectionId === 'properties' && tab.textContent.includes('Properties'))) {
        tab.classList.add('active');
      }
    });

    if (sectionId !== 'games') {
      hideGame();
    }

    // Properties laden wenn Properties-Section gezeigt wird
    if (sectionId === 'properties' && currentUser) {
      updatePropertiesUI();
    }
  }

  // ===== GAME FUNCTIONS =====
  function showGame(gameId) {
    console.log('Show Game:', gameId);

    if (!currentUser) {
      showLogin();
      return;
    }

    showSection('games');

    setTimeout(() => {
      document.querySelectorAll('.game-area').forEach(a => a.style.display = 'none');
      const gameArea = document.getElementById(gameId + 'Game');

      if (gameArea) {
        gameArea.style.display = 'block';
        currentGame = gameId;

        // Game-spezifische Initialisierung
        switch(gameId) {
          case 'slot':
            initSlot();
            break;
          case 'blackjack':
            initBlackjack();
            break;
          case 'roulette':
            initRoulette();
            break;
          case 'poker':
            initPoker();
            break;
        }
      } else {
        console.error('Game Area nicht gefunden:', gameId + 'Game');
      }
    }, 100);
  }

  function hideGame() {
    console.log('Hide Game');
    document.querySelectorAll('.game-area').forEach(a => a.style.display = 'none');
    currentGame = null;
  }

  function showChat() {
    console.log('Show Chat');
    if (!currentUser) {
      showLogin();
      return;
    }
    showModal('chatModal');

    // Chat-Historie laden
    setTimeout(() => {
      document.getElementById('chatMessages').innerHTML = `
        <div style="text-align: center; color: var(--accent); margin-bottom: 10px;">
          <strong>Willkommen im Casino Chat!</strong>
        </div>
        <div style="color: var(--info); margin-bottom: 10px;">
          <strong>CasinoBot:</strong> Hallo ${currentUser?.username || 'Spieler'}! Viel Gl√ºck beim Spielen! üé∞
        </div>
        <div style="color: var(--gray); font-size: 0.9em; text-align: center;">
          Schreibe eine Nachricht, um den Chat zu starten...
        </div>
      `;
    }, 500);
  }

  // ===== SLOT MACHINE =====
  function initSlot() {
    console.log('Init Slot Machine');
    const reels = document.querySelectorAll('.slot-reel');
    reels.forEach(reel => {
      reel.classList.remove('spinning', 'win');
    });
    document.getElementById('slotResult').classList.remove('show', 'win', 'loss');
  }

  function setBet(amount) {
    console.log('Set Bet:', amount);
    document.getElementById('slotBet').value = amount;
    animateChip(amount);
  }

  function spinSlot() {
    console.log('Spin Slot aufgerufen');

    if (!currentUser) {
      showLogin();
      return;
    }

    const betInput = document.getElementById('slotBet');
    const bet = parseInt(betInput.value);

    if (isNaN(bet) || bet < 10 || bet > 999999999) {
      showNotification('Bitte einen Einsatz zwischen 10 und 999.999.999 w√§hlen', 'error');
      return;
    }

    if (bet > balance) {
      showNotification('Nicht genug Guthaben!', 'error');
      return;
    }

    // Spin Animation starten
    const reels = document.querySelectorAll('.slot-reel');
    reels.forEach(reel => {
      reel.classList.add('spinning');
    });

    // Balance aktualisieren
    balance -= bet;
    updateUI();
    userStats.gamesPlayed++;
    userStats.totalLost += bet;

    // Warte auf Spin-Ende
    setTimeout(() => {
      reels.forEach(reel => {
        reel.classList.remove('spinning');
      });

      // Symbole generieren
      const symbols = ['üçí', 'üíé', '7Ô∏è‚É£', 'üí∞', 'üëë', 'üé∞', '‚≠ê', 'üîî'];
      const results = [];

      for (let i = 0; i < 5; i++) {
        results.push(symbols[Math.floor(Math.random() * symbols.length)]);
      }

      // Symbole anzeigen mit Animation
      for (let i = 0; i < 5; i++) {
        setTimeout(() => {
          document.getElementById(`slotReel${i+1}`).textContent = results[i];
          document.getElementById(`slotReel${i+1}`).style.animation = 'bounce 0.3s';
          setTimeout(() => {
            document.getElementById(`slotReel${i+1}`).style.animation = '';
          }, 300);
        }, i * 200);
      }

      // Gewinn berechnen nach letzter Animation
      setTimeout(() => {
        let winMultiplier = 0;
        const counts = {};
        results.forEach(symbol => {
          counts[symbol] = (counts[symbol] || 0) + 1;
        });

        // Gewinnlogik
        for (const symbol in counts) {
          if (counts[symbol] >= 3) {
            winMultiplier = counts[symbol] * 3;
          }
        }

        // Jackpot f√ºr 5 gleiche Symbole
        if (Object.values(counts).includes(5)) {
          winMultiplier = 100;
        }

        const resultEl = document.getElementById('slotResult');

        if (winMultiplier > 0) {
          const winAmount = bet * winMultiplier;
          balance += winAmount;
          updateUI();
          userStats.gamesWon++;
          userStats.totalWon += winAmount;

          if (winAmount > userStats.biggestWin) {
            userStats.biggestWin = winAmount;
          }

          resultEl.textContent = `üéâ JACKPOT! GEWONNEN: ${formatLargeNumber(winAmount)} Credits (x${winMultiplier}) üéâ`;
          resultEl.className = 'result win show';

          // Gewinn-Animation
          reels.forEach(reel => {
            reel.classList.add('win');
          });

          if (winMultiplier >= 10) {
            confettiEffect();
          }

          showNotification(`Gewonnen: ${formatLargeNumber(winAmount)} Credits!`, 'success');
        } else {
          resultEl.textContent = `Kein Gewinn. Verlust: ${formatLargeNumber(bet)} Credits`;
          resultEl.className = 'result loss show';
          showNotification(`${formatLargeNumber(bet)} Credits verloren`, 'error');
        }

        updateStatsUI();
        // Demo-Daten speichern
        if (currentUser) {
          currentUser.balance = balance;
          currentUser.stats = userStats;
          localStorage.setItem('demo_user', JSON.stringify(currentUser));
        }
      }, 1200);
    }, 2000);
  }

  // ===== BLACKJACK =====
  function initBlackjack() {
    console.log('Init Blackjack');
    resetBlackjack();
  }

  function resetBlackjack() {
    blackjackGame = {
      deck: createDeck(),
      playerHand: [],
      dealerHand: [],
      bet: parseInt(document.getElementById('blackjackBet').value),
      gameActive: false
    };

    document.getElementById('dealerCards').innerHTML = '';
    document.getElementById('playerCards').innerHTML = '';
    document.getElementById('playerScore').textContent = '0';
    document.getElementById('dealerScore').textContent = '?';
    document.getElementById('blackjackResult').classList.remove('show', 'win', 'loss', 'tie');
    document.getElementById('blackjackInfo').textContent = 'Setze deinen Einsatz und klicke auf "Deal"';

    // Buttons zur√ºcksetzen
    document.getElementById('dealBtn').disabled = false;
    document.getElementById('hitBtn').disabled = true;
    document.getElementById('standBtn').disabled = true;
    document.getElementById('doubleBtn').disabled = true;
  }

  function createDeck() {
    const suits = ['‚ô†', '‚ô£', '‚ô•', '‚ô¶'];
    const values = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
    const deck = [];

    for (let suit of suits) {
      for (let value of values) {
        deck.push({ suit, value });
      }
    }

    // Deck mischen
    for (let i = deck.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [deck[i], deck[j]] = [deck[j], deck[i]];
    }

    return deck;
  }

  function getCardValue(card) {
    if (['J', 'Q', 'K'].includes(card.value)) return 10;
    if (card.value === 'A') return 11;
    return parseInt(card.value);
  }

  function calculateScore(hand) {
    let score = 0;
    let aces = 0;

    for (let card of hand) {
      if (card.value === 'A') {
        aces++;
        score += 11;
      } else {
        score += getCardValue(card);
      }
    }

    // Ass als 1 behandeln, wenn Score √ºber 21
    while (score > 21 && aces > 0) {
      score -= 10;
      aces--;
    }

    return score;
  }

  function createCardElement(card, hidden = false) {
    const cardDiv = document.createElement('div');
    cardDiv.className = 'card';

    if (hidden) {
      cardDiv.classList.add('back');
      cardDiv.innerHTML = '<div class="card-value">?</div>';
    } else {
      const color = card.suit === '‚ô•' || card.suit === '‚ô¶' ? 'red' : 'black';
      cardDiv.classList.add(color);
      cardDiv.innerHTML = `
          <div class="card-value">${card.value}</div>
          <div class="card-suit">${card.suit}</div>
        `;
    }

    return cardDiv;
  }

  function setBJBet(amount) {
    document.getElementById('blackjackBet').value = amount;
    animateChip(amount);
  }

  function blackjackDeal() {
    console.log('Blackjack Deal aufgerufen');

    if (blackjackGame.gameActive) return;

    const bet = parseInt(document.getElementById('blackjackBet').value);
    if (bet > balance) {
      showNotification('Nicht genug Guthaben!', 'error');
      return;
    }

    blackjackGame.bet = bet;
    blackjackGame.gameActive = true;
    blackjackGame.deck = createDeck();
    blackjackGame.playerHand = [];
    blackjackGame.dealerHand = [];

    balance -= bet;
    updateUI();
    userStats.gamesPlayed++;
    userStats.totalLost += bet;

    // Karten austeilen
    blackjackGame.playerHand.push(blackjackGame.deck.pop());
    blackjackGame.dealerHand.push(blackjackGame.deck.pop());
    blackjackGame.playerHand.push(blackjackGame.deck.pop());
    blackjackGame.dealerHand.push(blackjackGame.deck.pop());

    updateBlackjackDisplay();

    // Buttons aktivieren
    document.getElementById('dealBtn').disabled = true;
    document.getElementById('hitBtn').disabled = false;
    document.getElementById('standBtn').disabled = false;
    document.getElementById('doubleBtn').disabled = false;

    document.getElementById('blackjackInfo').textContent = 'W√§hle: Hit, Stand oder Double';

    // Sofortiger Blackjack?
    const playerScore = calculateScore(blackjackGame.playerHand);
    if (playerScore === 21) {
      setTimeout(() => blackjackStand(), 1000);
    }
  }

  function updateBlackjackDisplay() {
    const playerCards = document.getElementById('playerCards');
    const dealerCards = document.getElementById('dealerCards');

    playerCards.innerHTML = '';
    dealerCards.innerHTML = '';

    // Spielerkarten
    blackjackGame.playerHand.forEach((card, index) => {
      const cardEl = createCardElement(card);
      cardEl.style.animationDelay = `${index * 0.2}s`;
      cardEl.style.animation = 'fadeIn 0.5s ease-out';
      playerCards.appendChild(cardEl);
    });

    // Dealer Karten
    blackjackGame.dealerHand.forEach((card, index) => {
      const cardEl = createCardElement(card, index === 1 && blackjackGame.gameActive);
      cardEl.style.animationDelay = `${index * 0.2}s`;
      cardEl.style.animation = 'fadeIn 0.5s ease-out';
      dealerCards.appendChild(cardEl);
    });

    const playerScore = calculateScore(blackjackGame.playerHand);
    document.getElementById('playerScore').textContent = playerScore;

    if (!blackjackGame.gameActive) {
      const dealerScore = calculateScore(blackjackGame.dealerHand);
      document.getElementById('dealerScore').textContent = dealerScore;
    } else {
      document.getElementById('dealerScore').textContent = '?';
    }
  }

  function blackjackHit() {
    if (!blackjackGame.gameActive) return;

    blackjackGame.playerHand.push(blackjackGame.deck.pop());
    updateBlackjackDisplay();

    const playerScore = calculateScore(blackjackGame.playerHand);

    if (playerScore > 21) {
      endBlackjackGame('Bust! Du hast √ºber 21.');
    }
  }

  function blackjackStand() {
    if (!blackjackGame.gameActive) return;

    blackjackGame.gameActive = false;
    updateBlackjackDisplay(); // Zeige alle Dealer-Karten

    // Dealer zieht Karten bis 17
    let dealerScore = calculateScore(blackjackGame.dealerHand);
    while (dealerScore < 17) {
      setTimeout(() => {
        blackjackGame.dealerHand.push(blackjackGame.deck.pop());
        dealerScore = calculateScore(blackjackGame.dealerHand);
        updateBlackjackDisplay();
      }, 500);
    }

    setTimeout(() => evaluateBlackjackGame(), 1000);
  }

  function blackjackDouble() {
    if (!blackjackGame.gameActive || blackjackGame.playerHand.length !== 2) return;

    const additionalBet = blackjackGame.bet;
    if (additionalBet > balance) {
      showNotification('Nicht genug Guthaben f√ºr Double!', 'error');
      return;
    }

    balance -= additionalBet;
    updateUI();
    blackjackGame.bet *= 2;

    blackjackGame.playerHand.push(blackjackGame.deck.pop());
    blackjackStand();
  }

  function evaluateBlackjackGame() {
    const playerScore = calculateScore(blackjackGame.playerHand);
    const dealerScore = calculateScore(blackjackGame.dealerHand);

    let result = '';
    let win = false;
    let multiplier = 1;

    if (playerScore > 21) {
      result = 'Bust! Du hast verloren.';
    } else if (dealerScore > 21) {
      result = 'Dealer bust! Du gewinnst.';
      win = true;
    } else if (playerScore === dealerScore) {
      result = 'Unentschieden! Einsatz zur√ºck.';
      balance += blackjackGame.bet;
      updateUI();
    } else if (playerScore === 21 && blackjackGame.playerHand.length === 2) {
      result = 'Blackjack! Du gewinnst 2.5x!';
      win = true;
      multiplier = 2.5;
    } else if (playerScore > dealerScore) {
      result = 'Du gewinnst!';
      win = true;
    } else {
      result = 'Dealer gewinnt.';
    }

    const resultEl = document.getElementById('blackjackResult');

    if (win) {
      const winAmount = blackjackGame.bet * multiplier;
      balance += winAmount;
      updateUI();
      userStats.gamesWon++;
      userStats.totalWon += winAmount;

      if (winAmount > userStats.biggestWin) {
        userStats.biggestWin = winAmount;
      }

      resultEl.textContent = `${result} Gewinn: ${formatLargeNumber(winAmount)} Credits`;
      resultEl.className = 'result win show';
      showNotification(`Gewonnen: ${formatLargeNumber(winAmount)} Credits!`, 'success');
    } else if (result.includes('Unentschieden')) {
      resultEl.textContent = result;
      resultEl.className = 'result tie show';
      showNotification('Unentschieden!', 'warning');
    } else {
      resultEl.textContent = `${result} Verlust: ${formatLargeNumber(blackjackGame.bet)} Credits`;
      resultEl.className = 'result loss show';
      showNotification(`${formatLargeNumber(blackjackGame.bet)} Credits verloren`, 'error');
    }

    // Buttons zur√ºcksetzen
    document.getElementById('dealBtn').disabled = false;
    document.getElementById('hitBtn').disabled = true;
    document.getElementById('standBtn').disabled = true;
    document.getElementById('doubleBtn').disabled = true;

    updateStatsUI();
    // Demo-Daten speichern
    if (currentUser) {
      currentUser.balance = balance;
      currentUser.stats = userStats;
      localStorage.setItem('demo_user', JSON.stringify(currentUser));
    }
  }

  function endBlackjackGame(message) {
    blackjackGame.gameActive = false;
    updateBlackjackDisplay();

    const resultEl = document.getElementById('blackjackResult');
    resultEl.textContent = `${message} Verlust: ${formatLargeNumber(blackjackGame.bet)} Credits`;
    resultEl.className = 'result loss show';
    showNotification(`${formatLargeNumber(blackjackGame.bet)} Credits verloren`, 'error');

    // Buttons zur√ºcksetzen
    document.getElementById('dealBtn').disabled = false;
    document.getElementById('hitBtn').disabled = true;
    document.getElementById('standBtn').disabled = true;
    document.getElementById('doubleBtn').disabled = true;

    // Demo-Daten speichern
    if (currentUser) {
      currentUser.balance = balance;
      currentUser.stats = userStats;
      localStorage.setItem('demo_user', JSON.stringify(currentUser));
    }
  }

  // ===== ROULETTE =====
  function initRoulette() {
    console.log('Init Roulette');
    const betGrid = document.getElementById('rouletteBetGrid');
    betGrid.innerHTML = '';

    rouletteBets = [];
    rouletteSpinning = false;

    let gridHTML = '';

    // Zahl 0
    gridHTML += `
        <div class="bet-cell green" data-number="0" onclick="placeRouletteBet(0, 'number')">0</div>
        <div class="bet-cell" colspan="12" style="background: transparent;"></div>
      `;

    // Zahlen 1-36 in 3 Reihen
    for (let row = 0; row < 3; row++) {
      for (let col = 0; col < 12; col++) {
        const num = row * 12 + col + 1;
        if (num <= 36) {
          const color = num % 2 === 0 ? 'black' : 'red';
          gridHTML += `<div class="bet-cell ${color}" data-number="${num}" onclick="placeRouletteBet(${num}, 'number')">${num}</div>`;
        }
      }
    }

    // Spezialwetten
    const specialBets = [
      { label: '1-12', type: 'dozen', value: '1-12' },
      { label: '13-24', type: 'dozen', value: '13-24' },
      { label: '25-36', type: 'dozen', value: '25-36' },
      { label: '1-18', type: 'half', value: '1-18' },
      { label: 'EVEN', type: 'even', value: 'even' },
      { label: 'RED', type: 'color', value: 'red' },
      { label: 'BLACK', type: 'color', value: 'black' },
      { label: 'ODD', type: 'odd', value: 'odd' },
      { label: '19-36', type: 'half', value: '19-36' }
    ];

    specialBets.forEach(bet => {
      gridHTML += `<div class="bet-cell" style="background: #3498db; color: white;" onclick="placeRouletteBet('${bet.value}', '${bet.type}')">${bet.label}</div>`;
    });

    betGrid.innerHTML = gridHTML;
    updateRouletteBetDisplay();
  }

  function placeRouletteBet(value, type) {
    console.log('Place Roulette Bet:', value, type);

    if (rouletteSpinning) return;

    const betAmount = parseInt(document.getElementById('rouletteBet').value);

    if (betAmount > balance) {
      showNotification('Nicht genug Guthaben!', 'error');
      return;
    }

    // Pr√ºfen ob bereits auf diese Kombination gesetzt wurde
    const existingBet = rouletteBets.find(bet => bet.value === value && bet.type === type);

    if (existingBet) {
      existingBet.amount += betAmount;
    } else {
      rouletteBets.push({
        value: value,
        type: type,
        amount: betAmount,
        multiplier: getRouletteMultiplier(type)
      });
    }

    updateRouletteBetDisplay();
    animateChip(betAmount);
  }

  function getRouletteMultiplier(type) {
    switch(type) {
      case 'number': return 35;
      case 'dozen': return 2;
      case 'half': return 1;
      case 'even': case 'odd': case 'color': return 1;
      default: return 1;
    }
  }

  function updateRouletteBetDisplay() {
    const totalBet = rouletteBets.reduce((sum, bet) => sum + bet.amount, 0);
    const selectedBets = rouletteBets.map(bet => `${bet.value} (${bet.amount})`).join(', ') || 'Keine';

    document.getElementById('selectedBets').textContent = selectedBets;
    document.getElementById('totalBetAmount').textContent = formatLargeNumber(totalBet);
  }

  function spinRoulette() {
    console.log('Spin Roulette aufgerufen');

    if (rouletteBets.length === 0) {
      showNotification('Bitte zuerst setzen!', 'error');
      return;
    }

    const totalBet = rouletteBets.reduce((sum, bet) => sum + bet.amount, 0);

    if (totalBet > balance) {
      showNotification('Nicht genug Guthaben!', 'error');
      return;
    }

    if (rouletteSpinning) return;
    rouletteSpinning = true;

    balance -= totalBet;
    updateUI();
    userStats.gamesPlayed++;
    userStats.totalLost += totalBet;

    const wheel = document.getElementById('rouletteWheel');
    const rotations = 5 + Math.random() * 3;
    const winningNumber = Math.floor(Math.random() * 37);

    // Rad drehen
    wheel.style.transition = 'transform 4s cubic-bezier(0.15, 0, 0.15, 1)';
    wheel.style.transform = `rotate(${rotations * 360}deg)`;

    // Warte auf Dreh-Ende
    setTimeout(() => {
      // Gewinn berechnen
      let totalWin = 0;

      rouletteBets.forEach(bet => {
        if (checkRouletteWin(bet, winningNumber)) {
          totalWin += bet.amount * bet.multiplier;
        }
      });

      const resultEl = document.getElementById('rouletteResult');
      const ballIndicator = document.querySelector('.ball-indicator');

      // Ball-Animation
      ballIndicator.style.animation = 'bounce 0.5s 3';

      if (totalWin > 0) {
        balance += totalWin;
        updateUI();
        userStats.gamesWon++;
        userStats.totalWon += totalWin;

        if (totalWin > userStats.biggestWin) {
          userStats.biggestWin = totalWin;
        }

        resultEl.textContent = `üèÜ Gewinn! Zahl: ${winningNumber}. Gewonnen: ${formatLargeNumber(totalWin)} Credits`;
        resultEl.className = 'result win show';
        showNotification(`Gewonnen: ${formatLargeNumber(totalWin)} Credits!`, 'success');

        if (totalWin > totalBet * 10) {
          confettiEffect();
        }
      } else {
        resultEl.textContent = `Verloren! Zahl: ${winningNumber}. Verlust: ${formatLargeNumber(totalBet)} Credits`;
        resultEl.className = 'result loss show';
        showNotification(`${formatLargeNumber(totalBet)} Credits verloren`, 'error');
      }

      // Reset nach 3 Sekunden
      setTimeout(() => {
        wheel.style.transition = 'none';
        wheel.style.transform = 'rotate(0deg)';
        ballIndicator.style.animation = '';
        rouletteBets = [];
        updateRouletteBetDisplay();
        rouletteSpinning = false;

        // Demo-Daten speichern
        if (currentUser) {
          currentUser.balance = balance;
          currentUser.stats = userStats;
          localStorage.setItem('demo_user', JSON.stringify(currentUser));
        }
      }, 3000);

      updateStatsUI();
    }, 4000);
  }

  function checkRouletteWin(bet, winningNumber) {
    switch(bet.type) {
      case 'number':
        return parseInt(bet.value) === winningNumber;
      case 'dozen':
        const [start, end] = bet.value.split('-').map(Number);
        return winningNumber >= start && winningNumber <= end;
      case 'half':
        if (bet.value === '1-18') return winningNumber >= 1 && winningNumber <= 18;
        if (bet.value === '19-36') return winningNumber >= 19 && winningNumber <= 36;
        return false;
      case 'even':
        return winningNumber !== 0 && winningNumber % 2 === 0;
      case 'odd':
        return winningNumber % 2 === 1;
      case 'color':
        if (winningNumber === 0) return false;
        if (bet.value === 'red') return winningNumber % 2 === 1;
        if (bet.value === 'black') return winningNumber % 2 === 0;
        return false;
      default:
        return false;
    }
  }

  // ===== PROPERTIES SYSTEM =====
  function updatePropertiesUI() {
    // Update total stats
    updatePropertyStats();

    // Update owned properties
    updateOwnedProperties();

    // Update property shop
    updatePropertyShop();
  }

  function updatePropertyStats() {
    let totalIncomePerHour = 0;
    let totalPending = 0;

    userProperties.forEach(property => {
      const incomePerHour = calculatePropertyIncome(property);
      const pending = calculatePendingIncome(property);

      totalIncomePerHour += incomePerHour;
      totalPending += pending;
    });

    document.getElementById('totalPassiveIncome').textContent =
      `${formatLargeNumber(totalIncomePerHour)} / Stunde`;
    document.getElementById('pendingIncome').textContent =
      `${formatLargeNumber(totalPending)}`;
  }

  function updateOwnedProperties() {
    const container = document.getElementById('ownedProperties');

    if (userProperties.length === 0) {
      container.innerHTML = `
      <div style="grid-column: 1 / -1; text-align: center; padding: 50px;">
        <div style="font-size: 4rem; color: var(--gray); margin-bottom: 20px;">
          <i class="fas fa-home"></i>
        </div>
        <div style="font-size: 1.5rem; color: var(--gray); margin-bottom: 20px;">
          Du besitzt noch keine Properties
        </div>
        <div style="color: var(--accent); margin-bottom: 30px;">
          Kaufe deine erste Property im Shop unten!
        </div>
        <button class="btn btn-primary" onclick="scrollToPropertyShop()">
          <i class="fas fa-store"></i> ZUM PROPERTIES SHOP
        </button>
      </div>
    `;
      return;
    }

    container.innerHTML = '';

    // Sort properties by income (highest first)
    const sortedProperties = [...userProperties].sort((a, b) =>
      calculatePropertyIncome(b) - calculatePropertyIncome(a)
    );

    sortedProperties.forEach((property, index) => {
      const config = propertyConfig[property.type];
      const incomePerHour = calculatePropertyIncome(property);
      const pendingIncome = calculatePendingIncome(property);
      const upgradePrice = calculateUpgradePrice(property);
      const progress = (property.level / config.maxLevel) * 100;

      const propertyCard = document.createElement('div');
      propertyCard.className = 'property-card';
      if (index < 3) {
        propertyCard.setAttribute('data-rank', index + 1);
      }

      propertyCard.innerHTML = `
      <div class="property-icon" style="color: ${getPropertyColor(property.type)};">
        ${config.icon}
        <span class="property-level">Level ${property.level}</span>
      </div>

      <h3 class="property-name">${config.name}</h3>

      <div class="property-stats">
        <div class="stat-row">
          <span class="stat-label">Passives Einkommen:</span>
          <span class="stat-value">${formatLargeNumber(incomePerHour)}/h</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Bereit zum Einsammeln:</span>
          <span class="stat-value gold">+${formatLargeNumber(pendingIncome)}</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Gesamt verdient:</span>
          <span class="stat-value">${formatLargeNumber(property.totalEarned || 0)}</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">N√§chstes Upgrade:</span>
          <span class="stat-value gold">${formatLargeNumber(upgradePrice)}</span>
        </div>
      </div>

      <div class="progress-bar">
        <div class="progress-fill" style="width: ${progress}%"></div>
      </div>

      <div class="property-actions">
        <button class="btn btn-primary" onclick="collectProperty('${property.id}')"
                ${pendingIncome === 0 ? 'disabled' : ''}>
          <i class="fas fa-coins"></i> EINNEHMEN
        </button>
        <button class="btn btn-gold" onclick="upgradeProperty('${property.id}')"
                ${upgradePrice > balance || property.level >= config.maxLevel ? 'disabled' : ''}>
          <i class="fas fa-arrow-up"></i> UPGRADE
        </button>
      </div>
    `;

      container.appendChild(propertyCard);
    });
  }

  function updatePropertyShop() {
    const container = document.getElementById('propertiesShop');
    container.innerHTML = '';

    Object.entries(propertyConfig).forEach(([type, config]) => {
      const userProperty = userProperties.find(p => p.type === type);
      const isOwned = !!userProperty;
      const canAfford = balance >= config.basePrice;

      const shopItem = document.createElement('div');
      shopItem.className = 'property-card';

      shopItem.innerHTML = `
      <div class="property-icon" style="color: ${getPropertyColor(type)};">
        ${config.icon}
      </div>

      <h3 class="property-name">${config.name}</h3>

      <p class="property-desc">${config.description}</p>

      <div class="property-stats">
        <div class="stat-row">
          <span class="stat-label">Basis Einkommen:</span>
          <span class="stat-value">${formatLargeNumber(config.baseIncome)}/h</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Upgrade Multiplikator:</span>
          <span class="stat-value gold">x${config.multiplier}</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Max Level:</span>
          <span class="stat-value">${config.maxLevel}</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Preis:</span>
          <span class="stat-value">${formatLargeNumber(config.basePrice)}</span>
        </div>
      </div>

      <div class="property-actions ${isOwned ? 'single' : ''}">
        ${isOwned ? `
          <button class="btn btn-secondary" disabled>
            <i class="fas fa-check"></i> BEREITS GEKAUFT
          </button>
        ` : `
          <button class="btn ${canAfford ? 'btn-primary' : 'btn-danger'}"
                  onclick="buyProperty('${type}')"
                  ${!canAfford ? 'disabled' : ''}>
            <i class="fas fa-shopping-cart"></i> KAUFEN
          </button>
        `}
      </div>
    `;

      container.appendChild(shopItem);
    });
  }

  // Helper functions
  function calculatePropertyIncome(property) {
    const config = propertyConfig[property.type];
    return Math.floor(config.baseIncome * Math.pow(config.multiplier, property.level - 1));
  }

  function calculatePendingIncome(property) {
    if (!property.lastCollectTime) return 0;

    const hoursPassed = (Date.now() - property.lastCollectTime) / (1000 * 60 * 60);
    const incomePerHour = calculatePropertyIncome(property);

    return Math.floor(hoursPassed * incomePerHour);
  }

  function calculateUpgradePrice(property) {
    const config = propertyConfig[property.type];
    return Math.floor(config.basePrice * Math.pow(config.upgradeCostMultiplier, property.level - 1));
  }

  function getPropertyColor(type) {
    const colors = {
      apartment: '#3498db',
      house: '#2ecc71',
      villa: '#9b59b6',
      hotel: '#e74c3c',
      skyscraper: '#f1c40f',
      casino: '#ff0000'
    };
    return colors[type] || '#00ff9d';
  }

  // Property actions
  function buyProperty(type) {
    if (!currentUser) {
      showLogin();
      return;
    }

    const config = propertyConfig[type];

    if (balance < config.basePrice) {
      showNotification(`Nicht genug Geld! Du ben√∂tigst ${formatLargeNumber(config.basePrice)} Credits`, 'error');
      return;
    }

    if (userProperties.some(p => p.type === type)) {
      showNotification('Du besitzt diese Property bereits!', 'warning');
      return;
    }

    const newProperty = {
      id: `prop_${Date.now()}`,
      type: type,
      level: 1,
      lastCollectTime: Date.now(),
      totalEarned: 0
    };

    balance -= config.basePrice;
    updateUI();
    userProperties.push(newProperty);

    updatePropertiesUI();
    showNotification(`${config.name} gekauft! Jetzt generiert es passives Einkommen.`, 'success');

    // Demo-Daten speichern
    if (currentUser) {
      currentUser.balance = balance;
      currentUser.properties = userProperties;
      localStorage.setItem('demo_user', JSON.stringify(currentUser));
    }
  }

  function upgradeProperty(propertyId) {
    const property = userProperties.find(p => p.id === propertyId);
    if (!property) return;

    const config = propertyConfig[property.type];
    const upgradePrice = calculateUpgradePrice(property);

    if (property.level >= config.maxLevel) {
      showNotification('Maximales Level erreicht!', 'warning');
      return;
    }

    if (balance < upgradePrice) {
      showNotification(`Nicht genug Geld f√ºr Upgrade! Ben√∂tigt: ${formatLargeNumber(upgradePrice)}`, 'error');
      return;
    }

    balance -= upgradePrice;
    updateUI();
    property.level++;

    updatePropertiesUI();
    showNotification(`${config.name} auf Level ${property.level} geupgradet!`, 'success');

    // Demo-Daten speichern
    if (currentUser) {
      currentUser.balance = balance;
      currentUser.properties = userProperties;
      localStorage.setItem('demo_user', JSON.stringify(currentUser));
    }
  }

  function collectProperty(propertyId) {
    const property = userProperties.find(p => p.id === propertyId);
    if (!property) return;

    const pendingIncome = calculatePendingIncome(property);

    if (pendingIncome <= 0) {
      showNotification('Noch nichts zum Einsammeln verf√ºgbar', 'info');
      return;
    }

    balance += pendingIncome;
    updateUI();
    property.lastCollectTime = Date.now();
    property.totalEarned = (property.totalEarned || 0) + pendingIncome;

    updatePropertiesUI();
    showNotification(`${formatLargeNumber(pendingIncome)} eingesammelt!`, 'success');

    // Animation
    const button = document.querySelector(`[onclick="collectProperty('${propertyId}')"]`);
    if (button) {
      button.classList.add('collecting');
      setTimeout(() => button.classList.remove('collecting'), 1500);
    }

    // Demo-Daten speichern
    if (currentUser) {
      currentUser.balance = balance;
      currentUser.properties = userProperties;
      localStorage.setItem('demo_user', JSON.stringify(currentUser));
    }
  }

  function collectAllProperties() {
    if (userProperties.length === 0) {
      showNotification('Du besitzt noch keine Properties', 'info');
      return;
    }

    let totalCollected = 0;

    for (const property of userProperties) {
      const pendingIncome = calculatePendingIncome(property);
      if (pendingIncome > 0) {
        balance += pendingIncome;
        property.lastCollectTime = Date.now();
        property.totalEarned = (property.totalEarned || 0) + pendingIncome;
        totalCollected += pendingIncome;
      }
    }

    if (totalCollected > 0) {
      updateUI();
      updatePropertiesUI();
      showNotification(`Insgesamt ${formatLargeNumber(totalCollected)} eingesammelt!`, 'success');

      // Confetti for big collection
      if (totalCollected > 10000) {
        confettiEffect();
      }

      // Demo-Daten speichern
      if (currentUser) {
        currentUser.balance = balance;
        currentUser.properties = userProperties;
        localStorage.setItem('demo_user', JSON.stringify(currentUser));
      }
    } else {
      showNotification('Kein Einkommen zum Einsammeln verf√ºgbar', 'info');
    }
  }

  function scrollToPropertyShop() {
    const shopSection = document.querySelector('#propertiesShop');
    if (shopSection) {
      shopSection.scrollIntoView({ behavior: 'smooth' });
    }
  }

  // ===== LEADERBOARD =====
  function loadLeaderboard() {
    console.log('Load Leaderboard aufgerufen');

    // Demo-Leaderboard
    const demoLeaderboard = [
      { username: 'CasinoKing', balance: 1250000 },
      { username: 'JackpotJill', balance: 980500 },
      { username: 'LuckyLuke', balance: 750300 },
      { username: 'HighRoller', balance: 620100 },
      { username: 'SlotMaster', balance: 510200 }
    ];

    // Aktuellen User hinzuf√ºgen falls vorhanden
    if (currentUser) {
      demoLeaderboard.push({ username: currentUser.username, balance: balance });
      // Nach Balance sortieren
      demoLeaderboard.sort((a, b) => b.balance - a.balance);
    }

    const leaderboardList = document.getElementById('leaderboardList');
    leaderboardList.innerHTML = '';

    demoLeaderboard.forEach((user, index) => {
      const rank = index + 1;
      const medal = rank === 1 ? 'ü•á' : rank === 2 ? 'ü•à' : rank === 3 ? 'ü•â' : rank;

      const item = document.createElement('div');
      item.className = 'leaderboard-item';
      item.style.animationDelay = `${index * 0.1}s`;
      item.innerHTML = `
          <div class="rank">${medal}</div>
          <div class="player-info">
            <div class="player-avatar">
              ${user.username.charAt(0).toUpperCase()}
            </div>
            <div>
              <div class="player-name">${user.username}</div>
              <div style="color: var(--gray); font-size: 0.9rem;">Rang ${rank}</div>
            </div>
          </div>
          <div class="player-stats">
            <div class="player-balance">${formatLargeNumber(user.balance)}</div>
          </div>
        `;

      leaderboardList.appendChild(item);
    });
  }

  // ===== CHAT =====
  function sendChatMessage() {
    console.log('Send Chat Message aufgerufen');

    if (!currentUser) {
      showLogin();
      return;
    }

    const input = document.getElementById('chatInput');
    const message = input.value.trim();

    if (!message) return;

    const chatMessages = document.getElementById('chatMessages');
    const messageDiv = document.createElement('div');
    messageDiv.innerHTML = `
        <div style="margin-bottom: 10px;">
          <strong style="color: var(--accent);">${currentUser.username}:</strong>
          <span style="color: white;">${message}</span>
        </div>
      `;

    chatMessages.appendChild(messageDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
    input.value = '';

    // Simuliere Antwort
    setTimeout(() => {
      const responses = [
        "Gutes Spiel!",
        "Wer spielt noch Blackjack?",
        "Jackpot! üé∞",
        "Viel Gl√ºck euch allen!",
        "Das Casino rockt heute! üöÄ"
      ];
      const randomResponse = responses[Math.floor(Math.random() * responses.length)];
      const botMessage = document.createElement('div');
      botMessage.innerHTML = `
          <div style="margin-bottom: 10px;">
            <strong style="color: var(--info);">CasinoBot:</strong>
            <span style="color: white;">${randomResponse}</span>
          </div>
        `;
      chatMessages.appendChild(botMessage);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }, 1000);
  }

  // ===== HELPER FUNCTIONS =====
  function showModal(modalId) {
    console.log('Show Modal:', modalId);
    const modal = document.getElementById(modalId);
    if (modal) {
      modal.style.display = 'flex';
    } else {
      console.error('Modal nicht gefunden:', modalId);
    }
  }

  function hideModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
      modal.style.display = 'none';
    }
  }

  function hideAllModals() {
    document.querySelectorAll('.modal').forEach(m => m.style.display = 'none');
  }

  function showError(elementId, message) {
    const element = document.getElementById(elementId);
    if (element) {
      element.textContent = message;
      element.style.animation = 'shake 0.5s';
      setTimeout(() => element.style.animation = '', 500);
    }
  }

  function showNotification(message, type = 'info') {
    console.log('Show Notification:', message, type);

    const notification = document.createElement('div');
    notification.className = `notification ${type}`;

    let bgColor = 'var(--info)';
    let icon = 'info-circle';

    switch(type) {
      case 'success':
        bgColor = 'var(--accent)';
        icon = 'check-circle';
        break;
      case 'error':
        bgColor = 'var(--danger)';
        icon = 'exclamation-circle';
        break;
      case 'warning':
        bgColor = 'var(--warning)';
        icon = 'exclamation-triangle';
        break;
    }

    notification.style.background = bgColor;
    notification.innerHTML = `<i class="fas fa-${icon}"></i> ${message}`;

    document.body.appendChild(notification);

    setTimeout(() => {
      notification.style.animation = 'fadeOut 0.3s';
      setTimeout(() => notification.remove(), 300);
    }, 2700);
  }

  function animateChip(amount) {
    const chips = document.querySelectorAll('.chip');
    chips.forEach(chip => {
      if (chip.textContent == amount) {
        chip.style.animation = 'bounce 0.3s';
        setTimeout(() => {
          chip.style.animation = '';
        }, 300);
      }
    });
  }

  function confettiEffect() {
    console.log('Confetti Effect!');

    const confettiCount = 150;
    const colors = ['var(--accent)', 'var(--info)', 'var(--warning)', 'var(--danger)', 'var(--purple)', 'var(--gold)'];

    for (let i = 0; i < confettiCount; i++) {
      const confetti = document.createElement('div');
      confetti.style.cssText = `
          position: fixed;
          width: 10px;
          height: 10px;
          background: ${colors[Math.floor(Math.random() * colors.length)]};
          border-radius: 50%;
          top: -20px;
          left: ${Math.random() * 100}vw;
          z-index: 9998;
          pointer-events: none;
        `;

      document.body.appendChild(confetti);

      const animation = confetti.animate([
        { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
        { transform: `translateY(${window.innerHeight + 20}px) rotate(${360 + Math.random() * 360}deg)`, opacity: 0 }
      ], {
        duration: 2000 + Math.random() * 3000,
        easing: 'cubic-bezier(0.215, 0.610, 0.355, 1)'
      });

      animation.onfinish = () => confetti.remove();
    }
  }

  function showProfile() {
    console.log('Show Profile');

    if (!currentUser) return;

    showNotification(`Willkommen ${currentUser.username}! Guthaben: ${formatLargeNumber(balance)} Credits`, 'success');
  }
</script>
</body>
</html>
